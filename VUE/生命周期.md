# 生命周期
### 一、生命周期的原理?

生命周期就是一个VUE实例从创建到销毁的过程。
在这个生命周期期间，VUE提供了一些生命周期钩子，目的是让我们执行自定义逻辑的机会。
VUE会自动调用生命周期钩子函数，我们只需要提供这些函数对应的操作即可。

##### 值得注意的细节：
挂载对象（el）在`beforeMounted`阶段并没有真正加载，只是用***虚拟DOM*** 先占了个坑，真正加载完成已经是`mouted`阶段了。
所以，视图的HTML在create时并么有渲染出来，所以这个时候不要去操作dom节点。

### 二、nextTick()

[参考](https://segmentfault.com/a/1190000012861862#articleHeader3)

> 在下次DOM更新循环结束后执行延时回调。
> 在修改数据之后立即使用这个方法，获取更新后的DOM。

#### 2.1 原理

 > **异步+事件循环**

注意： VUE是异步执行DOM更新的。

##### 异步：
js有个主线程，是一个执行栈；除此以外，还有一个任务队列，放异步事件（比如onclick、keypress等）
执行栈里的同步任务执行完毕之后，会查看任务队列里有没有事件，执行完毕后再继续执行执行栈里的东西。

##### 事件循环
同步代码执行 -> 查找异步队列，推入执行栈，执行Vue.nextTick[事件循环1] ->查找异步队列，推入执行栈，执行Vue.nextTick[事件循环2]...

三个阶段：
**第一个tick**：
本次更新循环——执行同步任务和开启异步队列（在此时间循环中发生的所有改变缓冲到订阅队列中）

**第二个tick**：
下次更新循环——同步任务结束了，该执行异步watcher队列里的任务了。

**第三个tick**：
通过`Vue.nextTick()`获取到改变后的DOM。

#### 2.2 用途
在视图更新后，基于新的视图进行操作。